!function t(e,i,r){function n(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var p=i[o]={exports:{}};e[o][0].call(p.exports,function(t){var i=e[o][1][t];return n(i?i:t)},p,p.exports,t,e,i,r)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,i){"use strict";function r(t,e,i){var r,n=0,s=g.interactions.length,o=/mouse/i.test(t.pointerType||e)||4===t.pointerType,a=m.getPointerId(t);if(/down|start/i.test(e))for(n=0;s>n;n++){r=g.interactions[n];var l=i;if(r.inertiaStatus.active&&r.target.options[r.prepared.name].inertia.allowResume&&r.mouse===o)for(;l;){if(l===r.element)return r.pointers[0]&&r.removePointer(r.pointers[0]),r.addPointer(t),r;l=g.parentElement(l)}}if(o||!v.supportsTouch&&!v.supportsPointerEvent){for(n=0;s>n;n++)if(g.interactions[n].mouse&&!g.interactions[n].inertiaStatus.active)return g.interactions[n];for(n=0;s>n;n++)if(g.interactions[n].mouse&&(!/down/.test(e)||!g.interactions[n].inertiaStatus.active))return r;return r=new x,r.mouse=!0,r}for(n=0;s>n;n++)if(g.contains(g.interactions[n].pointerIds,a))return g.interactions[n];if(/up|end|out/i.test(e))return null;for(n=0;s>n;n++)if(r=g.interactions[n],!(r.prepared.name&&!r.target.options.gesture.enabled||r.interacting()||!o&&r.mouse))return r.addPointer(t),r;return new x}function n(t){return function(e){var i,n,s=g.getActualElement(e.path?e.path[0]:e.target),o=g.getActualElement(e.currentTarget);if(v.supportsTouch&&/touch/.test(e.type))for(g.prevTouchTime=(new Date).getTime(),n=0;n<e.changedTouches.length;n++){var a=e.changedTouches[n];i=r(a,e.type,s),i&&(i._updateEventTargets(s,o),i[t](a,e,s,o))}else{if(!v.supportsPointerEvent&&/mouse/.test(e.type)){for(n=0;n<g.interactions.length;n++)if(!g.interactions[n].mouse&&g.interactions[n].pointerIsDown)return;if((new Date).getTime()-g.prevTouchTime<500)return}if(i=r(e,e.type,s),!i)return;i._updateEventTargets(s,o),i[t](e,e,s,o)}}}function s(){this.originalEvent.preventDefault()}function o(t,e,i,r,n,s,o){if(!e)return!1;if(e===!0){var a=g.isNumber(s.width)?s.width:s.right-s.left,l=g.isNumber(s.height)?s.height:s.bottom-s.top;if(0>a&&("left"===t?t="right":"right"===t&&(t="left")),0>l&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return i.x<(a>=0?s.left:s.right)+o;if("top"===t)return i.y<(l>=0?s.top:s.bottom)+o;if("right"===t)return i.x>(a>=0?s.right:s.left)-o;if("bottom"===t)return i.y>(l>=0?s.bottom:s.top)-o}return m.isElement(r)?m.isElement(e)?e===r:g.matchesUpTo(r,e,n):!1}function a(t,e,i){var r,n=this.getRect(i),s=!1,a=null,l=null,c=m.extend({},e.curCoords.page),p=this.options;if(!n)return null;if(g.actionIsEnabled.resize&&p.resize.enabled){var h=p.resize;if(r={left:!1,right:!1,top:!1,bottom:!1},g.isObject(h.edges)){for(var d in r)r[d]=o(d,h.edges[d],c,e._eventTarget,i,n,h.margin||g.margin);r.left=r.left&&!r.right,r.top=r.top&&!r.bottom,s=r.left||r.right||r.top||r.bottom}else{var u="y"!==p.resize.axis&&c.x>n.right-g.margin,v="x"!==p.resize.axis&&c.y>n.bottom-g.margin;s=u||v,l=(u?"x":"")+(v?"y":"")}}return a=s?"resize":g.actionIsEnabled.drag&&p.drag.enabled?"drag":null,g.actionIsEnabled.gesture&&e.pointerIds.length>=2&&!e.dragging&&!e.resizing&&(a="gesture"),a?{name:a,axis:l,edges:r}:null}function l(t,e){var i={},r=g.delegatedEvents[t.type],n=g.getActualElement(t.path?t.path[0]:t.target),o=n;e=e?!0:!1;for(var a in t)i[a]=t[a];for(i.originalEvent=t,i.preventDefault=s;m.isElement(o);){for(var l=0;l<r.selectors.length;l++){var c=r.selectors[l],p=r.contexts[l];if(g.matchesSelector(o,c)&&g.nodeContains(p,n)&&g.nodeContains(p,o)){var h=r.listeners[l];i.currentTarget=o;for(var d=0;d<h.length;d++)h[d][1]===e&&h[d][0](i)}}o=g.parentElement(o)}}function c(t){return l.call(this,t,!0)}function p(t,e){return g.interactables.get(t,e)||new h(t,e)}function h(t,e){this._element=t,this._iEvents=this._iEvents||{};var i;if(g.trySelector(t)){this.selector=t;var r=e&&e.context;i=r?g.getWindow(r):g.window,r&&(i.Node?r instanceof i.Node:m.isElement(r)||r===i.document)&&(this._context=r)}else i=g.getWindow(t),m.isElement(t,i)&&(g.PointerEvent?(f.add(this._element,g.pEventTypes.down,g.listeners.pointerDown),f.add(this._element,g.pEventTypes.move,g.listeners.pointerHover)):(f.add(this._element,"mousedown",g.listeners.pointerDown),f.add(this._element,"mousemove",g.listeners.pointerHover),f.add(this._element,"touchstart",g.listeners.pointerDown),f.add(this._element,"touchmove",g.listeners.pointerHover)));this._doc=i.document,g.contains(g.documents,this._doc)||u(this._doc),g.interactables.push(this),this.set(e)}function d(t){for(var e=0;e<g.interactions.length;e++)g.interactions[e].pointerEnd(t,t)}function u(t){if(!g.contains(g.documents,t)){var e=t.defaultView||t.parentWindow;for(var i in g.delegatedEvents)f.add(t,i,l),f.add(t,i,c,!0);g.PointerEvent?(g.pEventTypes=g.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},f.add(t,g.pEventTypes.down,g.listeners.selectorDown),f.add(t,g.pEventTypes.move,g.listeners.pointerMove),f.add(t,g.pEventTypes.over,g.listeners.pointerOver),f.add(t,g.pEventTypes.out,g.listeners.pointerOut),f.add(t,g.pEventTypes.up,g.listeners.pointerUp),f.add(t,g.pEventTypes.cancel,g.listeners.pointerCancel),f.add(t,g.pEventTypes.move,g.listeners.autoScrollMove)):(f.add(t,"mousedown",g.listeners.selectorDown),f.add(t,"mousemove",g.listeners.pointerMove),f.add(t,"mouseup",g.listeners.pointerUp),f.add(t,"mouseover",g.listeners.pointerOver),f.add(t,"mouseout",g.listeners.pointerOut),f.add(t,"touchstart",g.listeners.selectorDown),f.add(t,"touchmove",g.listeners.pointerMove),f.add(t,"touchend",g.listeners.pointerUp),f.add(t,"touchcancel",g.listeners.pointerCancel),f.add(t,"mousemove",g.listeners.autoScrollMove),f.add(t,"touchmove",g.listeners.autoScrollMove)),f.add(e,"blur",d);try{if(e.frameElement){var r=e.frameElement.ownerDocument,s=r.defaultView;f.add(r,"mouseup",g.listeners.pointerEnd),f.add(r,"touchend",g.listeners.pointerEnd),f.add(r,"touchcancel",g.listeners.pointerEnd),f.add(r,"pointerup",g.listeners.pointerEnd),f.add(r,"MSPointerUp",g.listeners.pointerEnd),f.add(s,"blur",d)}}catch(o){p.windowParentError=o}f.useAttachEvent&&(f.add(t,"selectstart",function(t){var e=g.interactions[0];e.currentAction()&&e.checkAndPreventDefault(t)}),f.add(t,"dblclick",n("ie8Dblclick"))),g.documents.push(t)}}if(t("./utils/window").window){var g=t("./scope"),m=t("./utils"),v=m.browser;g.pEventTypes=null,g.documents=[],g.interactables=[],g.interactions=[],g.dynamicDrop=!1,g.delegatedEvents={},g.defaultOptions=t("./defaultOptions"),g.autoScroll=t("./autoScroll"),g.margin=v.supportsTouch||v.supportsPointerEvent?20:10,g.pointerMoveTolerance=1,g.prevTouchTime=0,g.maxInteractions=1/0,g.actionCursors=v.isIe9OrOlder?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},g.actionIsEnabled={drag:!0,resize:!0,gesture:!0},g.wheelEvent="onmousewheel"in g.document?"mousewheel":"wheel",g.eventTypes=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],g.globalEvents={},v.prefixedMatchesSelector="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",g.ie8MatchesSelector=null;var f=t("./utils/events");g.listeners={};var y=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"];g.trySelector=function(t){return g.isString(t)?(g.document.querySelector(t),!0):!1},g.getScrollXY=function(t){return t=t||g.window,{x:t.scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}},g.getActualElement=function(t){return t instanceof g.SVGElementInstance?t.correspondingUseElement:t},g.getElementRect=function(t){var e=v.isIOS7orLower?{x:0,y:0}:g.getScrollXY(g.getWindow(t)),i=t instanceof g.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return i&&{left:i.left+e.x,right:i.right+e.x,top:i.top+e.y,bottom:i.bottom+e.y,width:i.width||i.right-i.left,height:i.heigh||i.bottom-i.top}},g.getOriginXY=function(t,e){var i=t?t.options.origin:g.defaultOptions.origin;return"parent"===i?i=g.parentElement(e):"self"===i?i=t.getRect(e):g.trySelector(i)&&(i=g.closest(e,i)||{x:0,y:0}),g.isFunction(i)&&(i=i(t&&e)),m.isElement(i)&&(i=g.getElementRect(i)),i.x="x"in i?i.x:i.left,i.y="y"in i?i.y:i.top,i},g._getQBezierValue=function(t,e,i,r){var n=1-t;return n*n*e+2*n*t*i+t*t*r},g.getQuadraticCurvePoint=function(t,e,i,r,n,s,o){return{x:g._getQBezierValue(o,t,i,n),y:g._getQBezierValue(o,e,r,s)}},g.easeOutQuad=function(t,e,i,r){return t/=r,-i*t*(t-2)+e},g.nodeContains=function(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},g.closest=function(t,e){for(var i=g.parentElement(t);m.isElement(i);){if(g.matchesSelector(i,e))return i;i=g.parentElement(i)}return null},g.parentElement=function(t){var e=t.parentNode;if(g.isDocFrag(e)){for(;(e=e.host)&&g.isDocFrag(e););return e}return e},g.inContext=function(t,e){return t._context===e.ownerDocument||g.nodeContains(t._context,e)},g.testIgnore=function(t,e,i){var r=t.options.ignoreFrom;return r&&m.isElement(i)?g.isString(r)?g.matchesUpTo(i,r,e):m.isElement(r)?g.nodeContains(r,i):!1:!1},g.testAllow=function(t,e,i){var r=t.options.allowFrom;return r?m.isElement(i)?g.isString(r)?g.matchesUpTo(i,r,e):m.isElement(r)?g.nodeContains(r,i):!1:!1:!0},g.checkAxis=function(t,e){if(!e)return!1;var i=e.options.drag.axis;return"xy"===t||"xy"===i||i===t},g.checkSnap=function(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].snap&&i[e].snap.enabled},g.checkRestrict=function(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].restrict&&i[e].restrict.enabled},g.checkAutoScroll=function(t,e){var i=t.options;return/^resize/.test(e)&&(e="resize"),i[e].autoScroll&&i[e].autoScroll.enabled},g.withinInteractionLimit=function(t,e,i){for(var r=t.options,n=r[i.name].max,s=r[i.name].maxPerElement,o=0,a=0,l=0,c=0,p=g.interactions.length;p>c;c++){var h=g.interactions[c],d=h.prepared.name,u=h.interacting();if(u){if(o++,o>=g.maxInteractions)return!1;if(h.target===t){if(a+=d===i.name|0,a>=n)return!1;if(h.element===e&&(l++,d!==i.name||l>=s))return!1}}}return g.maxInteractions>0},g.indexOfDeepestElement=function(t){var e,i,r,n,s,o=t[0],a=o?0:-1,l=[],c=[];for(n=1;n<t.length;n++)if(e=t[n],e&&e!==o)if(o){if(e.parentNode!==e.ownerDocument)if(o.parentNode!==e.ownerDocument){if(!l.length)for(i=o;i.parentNode&&i.parentNode!==i.ownerDocument;)l.unshift(i),i=i.parentNode;if(o instanceof g.HTMLElement&&e instanceof g.SVGElement&&!(e instanceof g.SVGSVGElement)){if(e===o.parentNode)continue;i=e.ownerSVGElement}else i=e;for(c=[];i.parentNode!==i.ownerDocument;)c.unshift(i),i=i.parentNode;for(s=0;c[s]&&c[s]===l[s];)s++;var p=[c[s-1],c[s],l[s]];for(r=p[0].lastChild;r;){if(r===p[1]){o=e,a=n,l=[];break}if(r===p[2])break;r=r.previousSibling}}else o=e,a=n}else o=e,a=n;return a},g.matchesSelector=function(t,e,i){return g.ie8MatchesSelector?g.ie8MatchesSelector(t,e,i):(g.window!==g.realWindow&&(e=e.replace(/\/deep\//g," ")),t[v.prefixedMatchesSelector](e))},g.matchesUpTo=function(t,e,i){for(;m.isElement(t);){if(g.matchesSelector(t,e))return!0;if(t=g.parentElement(t),t===i)return g.matchesSelector(t,e)}return!1},v.prefixedMatchesSelector in Element.prototype&&g.isFunction(Element.prototype[v.prefixedMatchesSelector])||(g.ie8MatchesSelector=function(t,e,i){i=i||t.parentNode.querySelectorAll(e);for(var r=0,n=i.length;n>r;r++)if(i[r]===t)return!0;return!1});for(var x=t("./Interaction"),E=t("./InteractEvent"),w=0,S=y.length;S>w;w++){var b=y[w];g.listeners[b]=n(b)}g.interactables.indexOfElement=function(t,e){e=e||g.document;for(var i=0;i<this.length;i++){var r=this[i];if(r.selector===t&&r._context===e||!r.selector&&r._element===t)return i}return-1},g.interactables.get=function(t,e){return this[this.indexOfElement(t,e&&e.context)]},g.interactables.forEachSelector=function(t){for(var e=0;e<this.length;e++){var i=this[e];if(i.selector){var r=t(i,i.selector,i._context,e,this);if(void 0!==r)return r}}},h.prototype={setOnEvents:function(t,e){return"drop"===t?(g.isFunction(e.ondrop)&&(this.ondrop=e.ondrop),g.isFunction(e.ondropactivate)&&(this.ondropactivate=e.ondropactivate),g.isFunction(e.ondropdeactivate)&&(this.ondropdeactivate=e.ondropdeactivate),g.isFunction(e.ondragenter)&&(this.ondragenter=e.ondragenter),g.isFunction(e.ondragleave)&&(this.ondragleave=e.ondragleave),g.isFunction(e.ondropmove)&&(this.ondropmove=e.ondropmove)):(t="on"+t,g.isFunction(e.onstart)&&(this[t+"start"]=e.onstart),g.isFunction(e.onmove)&&(this[t+"move"]=e.onmove),g.isFunction(e.onend)&&(this[t+"end"]=e.onend),g.isFunction(e.oninertiastart)&&(this[t+"inertiastart"]=e.oninertiastart)),this},draggable:function(t){return g.isObject(t)?(this.options.drag.enabled=t.enabled===!1?!1:!0,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.drag.axis=t.axis:null===t.axis&&delete this.options.drag.axis,this):g.isBool(t)?(this.options.drag.enabled=t,this):this.options.drag},setPerAction:function(t,e){for(var i in e)i in g.defaultOptions[t]&&(g.isObject(e[i])?(this.options[t][i]=m.extend(this.options[t][i]||{},e[i]),g.isObject(g.defaultOptions.perAction[i])&&"enabled"in g.defaultOptions.perAction[i]&&(this.options[t][i].enabled=e[i].enabled===!1?!1:!0)):g.isBool(e[i])&&g.isObject(g.defaultOptions.perAction[i])?this.options[t][i].enabled=e[i]:void 0!==e[i]&&(this.options[t][i]=e[i]))},dropzone:function(t){return g.isObject(t)?(this.options.drop.enabled=t.enabled===!1?!1:!0,this.setOnEvents("drop",t),this.accept(t.accept),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:g.isNumber(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),this):g.isBool(t)?(this.options.drop.enabled=t,this):this.options.drop},dropCheck:function(t,e,i,r,n,s){var o=!1;if(!(s=s||this.getRect(n)))return this.options.dropChecker?this.options.dropChecker(t,e,o,this,n,i,r):!1;var a=this.options.drop.overlap;if("pointer"===a){var l,c,p=m.getPageXY(t),h=g.getOriginXY(i,r);p.x+=h.x,p.y+=h.y,l=p.x>s.left&&p.x<s.right,c=p.y>s.top&&p.y<s.bottom,o=l&&c}var d=i.getRect(r);if("center"===a){var u=d.left+d.width/2,v=d.top+d.height/2;o=u>=s.left&&u<=s.right&&v>=s.top&&v<=s.bottom}if(g.isNumber(a)){var f=Math.max(0,Math.min(s.right,d.right)-Math.max(s.left,d.left))*Math.max(0,Math.min(s.bottom,d.bottom)-Math.max(s.top,d.top)),y=f/(d.width*d.height);o=y>=a}return this.options.dropChecker&&(o=this.options.dropChecker(t,o,this,n,i,r)),o},dropChecker:function(t){return g.isFunction(t)?(this.options.dropChecker=t,this):null===t?(delete this.options.getRect,this):this.options.dropChecker},accept:function(t){return m.isElement(t)?(this.options.drop.accept=t,this):g.trySelector(t)?(this.options.drop.accept=t,this):null===t?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(t){return g.isObject(t)?(this.options.resize.enabled=t.enabled===!1?!1:!0,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=g.defaultOptions.resize.axis),g.isBool(t.square)&&(this.options.resize.square=t.square),this):g.isBool(t)?(this.options.resize.enabled=t,this):this.options.resize},squareResize:function(t){return g.isBool(t)?(this.options.resize.square=t,this):null===t?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(t){return g.isObject(t)?(this.options.gesture.enabled=t.enabled===!1?!1:!0,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):g.isBool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},autoScroll:function(t){return g.isObject(t)?t=m.extend({actions:["drag","resize"]},t):g.isBool(t)&&(t={actions:["drag","resize"],enabled:t}),this.setOptions("autoScroll",t)},snap:function(t){var e=this.setOptions("snap",t);return e===this?this:e.drag},setOptions:function(t,e){var i,r=e&&g.isArray(e.actions)?e.actions:["drag"];if(g.isObject(e)||g.isBool(e)){for(i=0;i<r.length;i++){var n=/resize/.test(r[i])?"resize":r[i];if(g.isObject(this.options[n])){var s=this.options[n][t];g.isObject(e)?(m.extend(s,e),s.enabled=e.enabled===!1?!1:!0,"snap"===t&&("grid"===s.mode?s.targets=[p.createSnapGrid(m.extend({offset:s.gridOffset||{x:0,y:0}},s.grid||{}))]:"anchor"===s.mode?s.targets=s.anchors:"path"===s.mode&&(s.targets=s.paths),"elementOrigin"in e&&(s.relativePoints=[e.elementOrigin]))):g.isBool(e)&&(s.enabled=e)}}return this}var o={},a=["drag","resize","gesture"];for(i=0;i<a.length;i++)t in g.defaultOptions[a[i]]&&(o[a[i]]=this.options[a[i]][t]);return o},inertia:function(t){var e=this.setOptions("inertia",t);return e===this?this:e.drag},getAction:function(t,e,i,r){var n=this.defaultActionChecker(t,i,r);return this.options.actionChecker?this.options.actionChecker(t,e,n,this,r,i):n},defaultActionChecker:a,actionChecker:function(t){return g.isFunction(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(t){return t=t||this._element,this.selector&&!m.isElement(t)&&(t=this._context.querySelector(this.selector)),g.getElementRect(t)},rectChecker:function(t){return g.isFunction(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},styleCursor:function(t){return g.isBool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):g.isBool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},origin:function(t){return g.trySelector(t)?(this.options.origin=t,this):g.isObject(t)?(this.options.origin=t,this):this.options.origin},deltaSource:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},restrict:function(t){if(!g.isObject(t))return this.setOptions("restrict",t);for(var e,i=["drag","resize","gesture"],r=0;r<i.length;r++){var n=i[r];if(n in t){var s=m.extend({actions:[n],restriction:t[n]},t);e=this.setOptions("restrict",s)}}return e},context:function(){return this._context},_context:g.document,ignoreFrom:function(t){return g.trySelector(t)?(this.options.ignoreFrom=t,this):m.isElement(t)?(this.options.ignoreFrom=t,this):this.options.ignoreFrom},allowFrom:function(t){return g.trySelector(t)?(this.options.allowFrom=t,this):m.isElement(t)?(this.options.allowFrom=t,this):this.options.allowFrom},element:function(){return this._element},fire:function(t){if(!t||!t.type||!g.contains(g.eventTypes,t.type))return this;var e,i,r,n="on"+t.type,s="";if(t.type in this._iEvents)for(e=this._iEvents[t.type],i=0,r=e.length;r>i&&!t.immediatePropagationStopped;i++)s=e[i].name,e[i](t);if(g.isFunction(this[n])&&(s=this[n].name,this[n](t)),t.type in g.globalEvents&&(e=g.globalEvents[t.type]))for(i=0,r=e.length;r>i&&!t.immediatePropagationStopped;i++)s=e[i].name,e[i](t);return this},on:function(t,e,i){var r;if(g.isString(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),g.isArray(t)){for(r=0;r<t.length;r++)this.on(t[r],e,i);return this}if(g.isObject(t)){for(var n in t)this.on(n,t[n],e);return this}if("wheel"===t&&(t=g.wheelEvent),i=i?!0:!1,g.contains(g.eventTypes,t))t in this._iEvents?this._iEvents[t].push(e):this._iEvents[t]=[e];else if(this.selector){if(!g.delegatedEvents[t])for(g.delegatedEvents[t]={selectors:[],contexts:[],listeners:[]},r=0;r<g.documents.length;r++)f.add(g.documents[r],t,l),f.add(g.documents[r],t,c,!0);var s,o=g.delegatedEvents[t];for(s=o.selectors.length-1;s>=0&&(o.selectors[s]!==this.selector||o.contexts[s]!==this._context);s--);-1===s&&(s=o.selectors.length,o.selectors.push(this.selector),o.contexts.push(this._context),o.listeners.push([])),o.listeners[s].push([e,i])}else f.add(this._element,t,e,i);return this},off:function(t,e,i){var r;if(g.isString(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),g.isArray(t)){for(r=0;r<t.length;r++)this.off(t[r],e,i);return this}if(g.isObject(t)){for(var n in t)this.off(n,t[n],e);return this}var s,o=-1;if(i=i?!0:!1,"wheel"===t&&(t=g.wheelEvent),g.contains(g.eventTypes,t))s=this._iEvents[t],s&&-1!==(o=g.indexOf(s,e))&&this._iEvents[t].splice(o,1);else if(this.selector){var a=g.delegatedEvents[t],p=!1;if(!a)return this;for(o=a.selectors.length-1;o>=0;o--)if(a.selectors[o]===this.selector&&a.contexts[o]===this._context){var h=a.listeners[o];for(r=h.length-1;r>=0;r--){var d=h[r][0],u=h[r][1];if(d===e&&u===i){h.splice(r,1),h.length||(a.selectors.splice(o,1),a.contexts.splice(o,1),a.listeners.splice(o,1),f.remove(this._context,t,l),f.remove(this._context,t,c,!0),a.selectors.length||(g.delegatedEvents[t]=null)),p=!0;break}}if(p)break}}else f.remove(this._element,t,e,i);return this},set:function(t){g.isObject(t)||(t={}),this.options=m.extend({},g.defaultOptions.base);var e,i=["drag","drop","resize","gesture"],r=["draggable","dropzone","resizable","gesturable"],n=m.extend(m.extend({},g.defaultOptions.perAction),t[s]||{});for(e=0;e<i.length;e++){var s=i[e];this.options[s]=m.extend({},g.defaultOptions[s]),this.setPerAction(s,n),this[r[e]](t[s])}var o=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker"];for(e=0,S=o.length;S>e;e++){var a=o[e];this.options[a]=g.defaultOptions.base[a],a in t&&this[a](t[a])}return this},unset:function(){if(f.remove(this._element,"all"),g.isString(this.selector))for(var t in g.delegatedEvents)for(var e=g.delegatedEvents[t],i=0;i<e.selectors.length;i++){e.selectors[i]===this.selector&&e.contexts[i]===this._context&&(e.selectors.splice(i,1),e.contexts.splice(i,1),e.listeners.splice(i,1),e.selectors.length||(g.delegatedEvents[t]=null)),f.remove(this._context,t,l),f.remove(this._context,t,c,!0);break}else f.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),g.interactables.splice(g.indexOf(g.interactables,this),1),p}},h.prototype.snap=m.warnOnce(h.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),h.prototype.restrict=m.warnOnce(h.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),h.prototype.inertia=m.warnOnce(h.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),h.prototype.autoScroll=m.warnOnce(h.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),h.prototype.squareResize=m.warnOnce(h.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),p.isSet=function(t,e){return-1!==g.interactables.indexOfElement(t,e&&e.context)},p.on=function(t,e,i){if(g.isString(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),g.isArray(t)){for(var r=0;r<t.length;r++)p.on(t[r],e,i);return p}if(g.isObject(t)){for(var n in t)p.on(n,t[n],e);return p}return g.contains(g.eventTypes,t)?g.globalEvents[t]?g.globalEvents[t].push(e):g.globalEvents[t]=[e]:f.add(g.document,t,e,i),p},p.off=function(t,e,i){if(g.isString(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),g.isArray(t)){for(var r=0;r<t.length;r++)p.off(t[r],e,i);return p}if(g.isObject(t)){for(var n in t)p.off(n,t[n],e);return p}if(g.contains(g.eventTypes,t)){var s;t in g.globalEvents&&-1!==(s=g.indexOf(g.globalEvents[t],e))&&g.globalEvents[t].splice(s,1)}else f.remove(g.document,t,e,i);return p},p.enableDragging=m.warnOnce(function(t){return null!==t&&void 0!==t?(g.actionIsEnabled.drag=t,p):g.actionIsEnabled.drag},"interact.enableDragging is deprecated and will soon be removed."),p.enableResizing=m.warnOnce(function(t){return null!==t&&void 0!==t?(g.actionIsEnabled.resize=t,p):g.actionIsEnabled.resize},"interact.enableResizing is deprecated and will soon be removed."),p.enableGesturing=m.warnOnce(function(t){return null!==t&&void 0!==t?(g.actionIsEnabled.gesture=t,p):g.actionIsEnabled.gesture},"interact.enableGesturing is deprecated and will soon be removed."),p.eventTypes=g.eventTypes,p.debug=function(){var t=g.interactions[0]||new x;return{interactions:g.interactions,target:t.target,dragging:t.dragging,resizing:t.resizing,gesturing:t.gesturing,prepared:t.prepared,matches:t.matches,matchElements:t.matchElements,prevCoords:t.prevCoords,startCoords:t.startCoords,pointerIds:t.pointerIds,pointers:t.pointers,addPointer:g.listeners.addPointer,removePointer:g.listeners.removePointer,recordPointer:g.listeners.recordPointer,snap:t.snapStatus,restrict:t.restrictStatus,inertia:t.inertiaStatus,downTime:t.downTimes[0],downEvent:t.downEvent,downPointer:t.downPointer,prevEvent:t.prevEvent,Interactable:h,interactables:g.interactables,pointerIsDown:t.pointerIsDown,defaultOptions:g.defaultOptions,defaultActionChecker:a,actionCursors:g.actionCursors,dragMove:g.listeners.dragMove,resizeMove:g.listeners.resizeMove,gestureMove:g.listeners.gestureMove,pointerUp:g.listeners.pointerUp,pointerDown:g.listeners.pointerDown,pointerMove:g.listeners.pointerMove,pointerHover:g.listeners.pointerHover,eventTypes:g.eventTypes,events:f,globalEvents:g.globalEvents,delegatedEvents:g.delegatedEvents}},p.getTouchAverage=m.touchAverage,p.getTouchBBox=m.touchBBox,p.getTouchDistance=m.touchDistance,p.getTouchAngle=m.touchAngle,p.getElementRect=g.getElementRect,p.matchesSelector=g.matchesSelector,p.closest=g.closest,p.margin=function(t){return g.isNumber(t)?(g.margin=t,p):g.margin},p.supportsTouch=function(){return v.supportsTouch},p.supportsPointerEvent=function(){return v.supportsPointerEvent},p.stop=function(t){for(var e=g.interactions.length-1;e>0;e--)g.interactions[e].stop(t);return p},p.dynamicDrop=function(t){return g.isBool(t)?(g.dynamicDrop=t,p):g.dynamicDrop},p.pointerMoveTolerance=function(t){return g.isNumber(t)?(g.pointerMoveTolerance=t,this):g.pointerMoveTolerance},p.maxInteractions=function(t){return g.isNumber(t)?(g.maxInteractions=t,this):g.maxInteractions},p.createSnapGrid=function(t){return function(e,i){var r=0,n=0;g.isObject(t.offset)&&(r=t.offset.x,n=t.offset.y);var s=Math.round((e-r)/t.x),o=Math.round((i-n)/t.y),a=s*t.x+r,l=o*t.y+n;return{x:a,y:l,range:t.range}}},u(g.document),g.interact=p,g.Interactable=h,g.Interaction=x,g.InteractEvent=E,e.exports=p}},{"./InteractEvent":2,"./Interaction":3,"./autoScroll":4,"./defaultOptions":5,"./scope":6,"./utils":13,"./utils/events":10,"./utils/window":18}],2:[function(t,e,i){"use strict";function r(t,e,i,o,a,l){var c,p,h=t.target,d=t.snapStatus,u=t.restrictStatus,g=t.pointers,m=(h&&h.options||n.defaultOptions).deltaSource,v=m+"X",f=m+"Y",y=h?h.options:n.defaultOptions,x=n.getOriginXY(h,a),E="start"===o,w="end"===o,S=E?t.startCoords:t.curCoords;a=a||t.element,p=s.extend({},S.page),c=s.extend({},S.client),p.x-=x.x,p.y-=x.y,c.x-=x.x,c.y-=x.y;var b=y[i].snap&&y[i].snap.relativePoints;!n.checkSnap(h,i)||E&&b&&b.length||(this.snap={range:d.range,locked:d.locked,x:d.snappedX,y:d.snappedY,realX:d.realX,realY:d.realY,dx:d.dx,dy:d.dy},d.locked&&(p.x+=d.dx,p.y+=d.dy,c.x+=d.dx,c.y+=d.dy)),!n.checkRestrict(h,i)||E&&y[i].restrict.elementRect||!u.restricted||(p.x+=u.dx,p.y+=u.dy,c.x+=u.dx,c.y+=u.dy,this.restrict={dx:u.dx,dy:u.dy}),this.pageX=p.x,this.pageY=p.y,this.clientX=c.x,this.clientY=c.y,this.x0=t.startCoords.page.x-x.x,this.y0=t.startCoords.page.y-x.y,this.clientX0=t.startCoords.client.x-x.x,this.clientY0=t.startCoords.client.y-x.y,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.target=a,this.t0=t.downTimes[0],this.type=i+(o||""),this.interaction=t,this.interactable=h;var T=t.inertiaStatus;if(T.active&&(this.detail="inertia"),l&&(this.relatedTarget=l),w?"client"===m?(this.dx=c.x-t.startCoords.client.x,this.dy=c.y-t.startCoords.client.y):(this.dx=p.x-t.startCoords.page.x,this.dy=p.y-t.startCoords.page.y):E?(this.dx=0,this.dy=0):"inertiastart"===o?(this.dx=t.prevEvent.dx,this.dy=t.prevEvent.dy):"client"===m?(this.dx=c.x-t.prevEvent.clientX,this.dy=c.y-t.prevEvent.clientY):(this.dx=p.x-t.prevEvent.pageX,this.dy=p.y-t.prevEvent.pageY),t.prevEvent&&"inertia"===t.prevEvent.detail&&!T.active&&y[i].inertia&&y[i].inertia.zeroResumeDelta&&(T.resumeDx+=this.dx,T.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===i&&t.resizeAxes?y.resize.square?("y"===t.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=t.resizeAxes,"x"===t.resizeAxes?this.dy=0:"y"===t.resizeAxes&&(this.dx=0)):"gesture"===i&&(this.touches=[g[0],g[1]],E?(this.distance=s.touchDistance(g,m),this.box=s.touchBBox(g),this.scale=1,this.ds=0,this.angle=s.touchAngle(g,void 0,m),this.da=0):w||e instanceof r?(this.distance=t.prevEvent.distance,this.box=t.prevEvent.box,this.scale=t.prevEvent.scale,this.ds=this.scale-1,this.angle=t.prevEvent.angle,this.da=this.angle-t.gesture.startAngle):(this.distance=s.touchDistance(g,m),this.box=s.touchBBox(g),this.scale=this.distance/t.gesture.startDistance,this.angle=s.touchAngle(g,t.gesture.prevAngle,m),this.ds=this.scale-t.gesture.prevScale,this.da=this.angle-t.gesture.prevAngle)),E)this.timeStamp=t.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===o)this.timeStamp=t.prevEvent.timeStamp,this.dt=t.prevEvent.dt,this.duration=t.prevEvent.duration,this.speed=t.prevEvent.speed,this.velocityX=t.prevEvent.velocityX,this.velocityY=t.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-t.prevEvent.timeStamp,this.duration=this.timeStamp-t.downTimes[0],e instanceof r){var D=this[v]-t.prevEvent[v],z=this[f]-t.prevEvent[f],O=this.dt/1e3;this.speed=s.hypot(D,z)/O,this.velocityX=D/O,this.velocityY=z/O}else this.speed=t.pointerDelta[m].speed,this.velocityX=t.pointerDelta[m].vx,this.velocityY=t.pointerDelta[m].vy;if((w||"inertiastart"===o)&&t.prevEvent.speed>600&&this.timeStamp-t.prevEvent.timeStamp<150){var C=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI,M=22.5;0>C&&(C+=360);var P=C>=135-M&&225+M>C,I=C>=225-M&&315+M>C,A=!P&&(C>=315-M||45+M>C),_=!I&&C>=45-M&&135+M>C;this.swipe={up:I,down:_,left:P,right:A,angle:C,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}}var n=t("./scope"),s=t("./utils");r.prototype={preventDefault:s.blank,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}},e.exports=r},{"./scope":6,"./utils":13}],3:[function(t,e,i){"use strict";function r(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,
this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},a.isFunction(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var t=this;this.boundInertiaFrame=function(){return t.inertiaFrame()},this.boundSmoothEndFrame=function(){return t.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,a.interactions.push(this)}function n(t,e){if(!a.isObject(t))return null;var i=t.name,r=e.options;return("resize"===i&&r.resize.enabled||"drag"===i&&r.drag.enabled||"gesture"===i&&r.gesture.enabled)&&a.actionIsEnabled[i]?(("resize"===i||"resizeyx"===i)&&(i="resizexy"),t):null}function s(t){var e="";if("drag"===t.name&&(e=a.actionCursors.drag),"resize"===t.name)if(t.axis)e=a.actionCursors[t.name+t.axis];else if(t.edges){for(var i="resize",r=["top","bottom","left","right"],n=0;4>n;n++)t.edges[r[n]]&&(i+=r[n]);e=a.actionCursors[i]}return e}function o(){this.originalEvent.preventDefault()}var a=t("./scope"),l=t("./utils"),c=l.raf,p=t("./InteractEvent"),h=t("./utils/events"),d=t("./utils/browser");r.prototype={getPageXY:function(t,e){return l.getPageXY(t,e,this)},getClientXY:function(t,e){return l.getClientXY(t,e,this)},setEventXY:function(t,e){return l.setEventXY(t,e,this)},pointerOver:function(t,e,i){function r(t,e){t&&a.inContext(t,i)&&!a.testIgnore(t,i,i)&&a.testAllow(t,i,i)&&a.matchesSelector(i,e)&&(s.push(t),o.push(i))}if(!this.prepared.name&&this.mouse){var s=[],o=[],l=this.element;this.addPointer(t),!this.target||!a.testIgnore(this.target,this.element,i)&&a.testAllow(this.target,this.element,i)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var c=a.interactables.get(i),p=c&&!a.testIgnore(c,i,i)&&a.testAllow(c,i,i)&&n(c.getAction(t,e,this,i),c);p&&!a.withinInteractionLimit(c,i,p)&&(p=null),p?(this.target=c,this.element=i,this.matches=[],this.matchElements=[]):(a.interactables.forEachSelector(r),this.validateSelector(t,e,s,o)?(this.matches=s,this.matchElements=o,this.pointerHover(t,e,this.matches,this.matchElements),h.add(i,a.PointerEvent?a.pEventTypes.move:"mousemove",a.listeners.pointerHover)):this.target&&(a.nodeContains(l,i)?(this.pointerHover(t,e,this.matches,this.matchElements),h.add(this.element,a.PointerEvent?a.pEventTypes.move:"mousemove",a.listeners.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(t,e,i,r,o,a){var l=this.target;if(!this.prepared.name&&this.mouse){var c;this.setEventXY(this.curCoords,t),o?c=this.validateSelector(t,e,o,a):l&&(c=n(l.getAction(this.pointers[0],e,this,this.element),this.target)),l&&l.options.styleCursor&&(l._doc.documentElement.style.cursor=c?s(c):"")}else this.prepared.name&&this.checkAndPreventDefault(e,l,this.element)},pointerOut:function(t,e,i){this.prepared.name||(a.interactables.get(i)||h.remove(i,a.PointerEvent?a.pEventTypes.move:"mousemove",a.listeners.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(t,e,i,r){function s(t,e,r){var n=a.ie8MatchesSelector?r.querySelectorAll(e):void 0;a.inContext(t,u)&&!a.testIgnore(t,u,i)&&a.testAllow(t,u,i)&&a.matchesSelector(u,e,n)&&(p.matches.push(t),p.matchElements.push(u))}var o,p=this,d=h.useAttachEvent?l.extend({},e):e,u=i,g=this.addPointer(t);if(this.holdTimers[g]=setTimeout(function(){p.pointerHold(h.useAttachEvent?d:t,d,i,r)},a.defaultOptions._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;l.isElement(u);){if(u===this.element&&n(this.target.getAction(t,e,this,this.element),this.target).name===this.prepared.name)return c.cancel(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(t,e,i,"down");u=a.parentElement(u)}if(this.interacting())return void this.collectEventTargets(t,e,i,"down");for(this.setEventXY(this.curCoords,t),this.downEvent=e;l.isElement(u)&&!o;)this.matches=[],this.matchElements=[],a.interactables.forEachSelector(s),o=this.validateSelector(t,e,this.matches,this.matchElements),u=a.parentElement(u);return o?(this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.collectEventTargets(t,e,i,"down"),this.pointerDown(t,e,i,r,o)):(this.downTimes[g]=(new Date).getTime(),this.downTargets[g]=i,l.extend(this.downPointer,t),l.copyCoords(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(t,e,i,"down"))},pointerDown:function(t,e,i,r,o){if(!o&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(e,this.target,this.element);this.pointerIsDown=!0,this.downEvent=e;var p,h=this.addPointer(t);if(this.pointerIds.length<2&&!this.target||!this.prepared.name){var d=a.interactables.get(r);d&&!a.testIgnore(d,r,i)&&a.testAllow(d,r,i)&&(p=n(o||d.getAction(t,e,this,r),d,i))&&a.withinInteractionLimit(d,r,p)&&(this.target=d,this.element=r)}var u=this.target,g=u&&u.options;if(!u||!o&&this.prepared.name)this.inertiaStatus.active&&r===this.element&&n(u.getAction(t,e,this,this.element),u).name===this.prepared.name&&(c.cancel(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(e,u,this.element));else{if(p=p||n(o||u.getAction(t,e,this,r),u,this.element),this.setEventXY(this.startCoords),!p)return;g.styleCursor&&(u._doc.documentElement.style.cursor=s(p)),this.resizeAxes="resize"===p.name?p.axis:null,"gesture"===p&&this.pointerIds.length<2&&(p=null),this.prepared.name=p.name,this.prepared.axis=p.axis,this.prepared.edges=p.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=0/0,this.downTimes[h]=(new Date).getTime(),this.downTargets[h]=i,l.extend(this.downPointer,t),this.setEventXY(this.prevCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(e,u,this.element)}},setModifications:function(t,e){var i=this.target,r=!0,n=a.checkSnap(i,this.prepared.name)&&(!i.options[this.prepared.name].snap.endOnly||e),s=a.checkRestrict(i,this.prepared.name)&&(!i.options[this.prepared.name].restrict.endOnly||e);return n?this.setSnapping(t):this.snapStatus.locked=!1,s?this.setRestriction(t):this.restrictStatus.restricted=!1,n&&this.snapStatus.locked&&!this.snapStatus.changed?r=s&&this.restrictStatus.restricted&&this.restrictStatus.changed:s&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(r=!1),r},setStartOffsets:function(t,e,i){var r,n,s=e.getRect(i),o=a.getOriginXY(e,i),l=e.options[this.prepared.name].snap,c=e.options[this.prepared.name].restrict;s?(this.startOffset.left=this.startCoords.page.x-s.left,this.startOffset.top=this.startCoords.page.y-s.top,this.startOffset.right=s.right-this.startCoords.page.x,this.startOffset.bottom=s.bottom-this.startCoords.page.y,r="width"in s?s.width:s.right-s.left,n="height"in s?s.height:s.bottom-s.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var p=l&&"startCoords"===l.offset?{x:this.startCoords.page.x-o.x,y:this.startCoords.page.y-o.y}:l&&l.offset||{x:0,y:0};if(s&&l&&l.relativePoints&&l.relativePoints.length)for(var h=0;h<l.relativePoints.length;h++)this.snapOffsets.push({x:this.startOffset.left-r*l.relativePoints[h].x+p.x,y:this.startOffset.top-n*l.relativePoints[h].y+p.y});else this.snapOffsets.push(p);s&&c.elementRect?(this.restrictOffset.left=this.startOffset.left-r*c.elementRect.left,this.restrictOffset.top=this.startOffset.top-n*c.elementRect.top,this.restrictOffset.right=this.startOffset.right-r*(1-c.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-n*(1-c.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(t,e,i){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(-1===a.indexOf(a.interactions,this)&&a.interactions.push(this),this.prepared.name=t.name,this.prepared.axis=t.axis,this.prepared.edges=t.edges,this.target=e,this.element=i,this.setEventXY(this.startCoords),this.setStartOffsets(t.name,e,i),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(t,e,i,r,n){this.recordPointer(t),this.setEventXY(this.curCoords,t instanceof p?this.inertiaStatus.startEvent:void 0);var s,o,c=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,h=this.mouse?0:a.indexOf(this.pointerIds,l.getPointerId(t));if(this.pointerIsDown&&!this.pointerWasMoved&&(s=this.curCoords.client.x-this.startCoords.client.x,o=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=l.hypot(s,o)>a.pointerMoveTolerance),c||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[h]),this.collectEventTargets(t,e,i,"move")),this.pointerIsDown){if(c&&this.pointerWasMoved&&!n)return void this.checkAndPreventDefault(e,this.target,this.element);if(l.setEventDeltas(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||t instanceof p&&/inertiastart/.test(t.type))){if(!this.interacting()&&(l.setEventDeltas(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var d=Math.abs(s),u=Math.abs(o),g=this.target.options.drag.axis,m=d>u?"x":u>d?"y":"xy";if("xy"!==m&&"xy"!==g&&g!==m){this.prepared.name=null;for(var v=i;l.isElement(v);){var f=a.interactables.get(v);if(f&&f!==this.target&&!f.options.drag.manualStart&&"drag"===f.getAction(this.downPointer,this.downEvent,this,v).name&&a.checkAxis(m,f)){this.prepared.name="drag",this.target=f,this.element=v;break}v=a.parentElement(v)}if(!this.prepared.name){var y=this,x=function(t,e,r){var n=a.ie8MatchesSelector?r.querySelectorAll(e):void 0;if(t!==y.target)return a.inContext(t,i)&&!t.options.drag.manualStart&&!a.testIgnore(t,v,i)&&a.testAllow(t,v,i)&&a.matchesSelector(v,e,n)&&"drag"===t.getAction(y.downPointer,y.downEvent,y,v).name&&a.checkAxis(m,t)&&a.withinInteractionLimit(t,v,"drag")?t:void 0};for(v=i;l.isElement(v);){var E=a.interactables.forEachSelector(x);if(E){this.prepared.name="drag",this.target=E,this.element=v;break}v=a.parentElement(v)}}}}var w=!!this.prepared.name&&!this.interacting();if(w&&(this.target.options[this.prepared.name].manualStart||!a.withinInteractionLimit(this.target,this.element,this.prepared)))return void this.stop(e);if(this.prepared.name&&this.target){w&&this.start(this.prepared,this.target,this.element);var S=this.setModifications(this.curCoords.page,n);(S||w)&&(this.prevEvent=this[this.prepared.name+"Move"](e)),this.checkAndPreventDefault(e,this.target,this.element)}}l.copyCoords(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(t)}}},dragStart:function(t){var e=new p(this,t,"drag","start",this.element);this.dragging=!0,this.target.fire(e),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var i=this.getDropEvents(t,e);return i.activate&&this.fireActiveDrops(i.activate),e},dragMove:function(t){var e=this.target,i=new p(this,t,"drag","move",this.element),r=this.element,n=this.getDrop(t,r);this.dropTarget=n.dropzone,this.dropElement=n.element;var s=this.getDropEvents(t,i);return e.fire(i),s.leave&&this.prevDropTarget.fire(s.leave),s.enter&&this.dropTarget.fire(s.enter),s.move&&this.dropTarget.fire(s.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,i},resizeStart:function(t){var e=new p(this,t,"resize","start",this.element);if(this.prepared.edges){var i=this.target.getRect(this.element);if(this.target.options.resize.square){var r=l.extend({},this.prepared.edges);r.top=r.top||r.left&&!r.bottom,r.left=r.left||r.top&&!r.right,r.bottom=r.bottom||r.right&&!r.top,r.right=r.right||r.bottom&&!r.left,this.prepared._squareEdges=r}else this.prepared._squareEdges=null;this.resizeRects={start:i,current:l.extend({},i),restricted:l.extend({},i),previous:l.extend({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=this.resizeRects.restricted,e.deltaRect=this.resizeRects.delta}return this.target.fire(e),this.resizing=!0,e},resizeMove:function(t){var e=new p(this,t,"resize","move",this.element),i=this.prepared.edges,r=this.target.options.resize.invert,n="reposition"===r||"negate"===r;if(i){var s=e.dx,o=e.dy,a=this.resizeRects.start,c=this.resizeRects.current,h=this.resizeRects.restricted,d=this.resizeRects.delta,u=l.extend(this.resizeRects.previous,h);if(this.target.options.resize.square){var g=i;i=this.prepared._squareEdges,g.left&&g.bottom||g.right&&g.top?o=-s:g.left||g.right?o=s:(g.top||g.bottom)&&(s=o)}if(i.top&&(c.top+=o),i.bottom&&(c.bottom+=o),i.left&&(c.left+=s),i.right&&(c.right+=s),n){if(l.extend(h,c),"reposition"===r){var m;h.top>h.bottom&&(m=h.top,h.top=h.bottom,h.bottom=m),h.left>h.right&&(m=h.left,h.left=h.right,h.right=m)}}else h.top=Math.min(c.top,a.bottom),h.bottom=Math.max(c.bottom,a.top),h.left=Math.min(c.left,a.right),h.right=Math.max(c.right,a.left);h.width=h.right-h.left,h.height=h.bottom-h.top;for(var v in h)d[v]=h[v]-u[v];e.edges=this.prepared.edges,e.rect=h,e.deltaRect=d}return this.target.fire(e),e},gestureStart:function(t){var e=new p(this,t,"gesture","start",this.element);return e.ds=0,this.gesture.startDistance=this.gesture.prevDistance=e.distance,this.gesture.startAngle=this.gesture.prevAngle=e.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(e),e},gestureMove:function(t){if(!this.pointerIds.length)return this.prevEvent;var e;return e=new p(this,t,"gesture","move",this.element),e.ds=e.scale-this.gesture.scale,this.target.fire(e),this.gesture.prevAngle=e.angle,this.gesture.prevDistance=e.distance,e.scale===1/0||null===e.scale||void 0===e.scale||isNaN(e.scale)||(this.gesture.scale=e.scale),e},pointerHold:function(t,e,i){this.collectEventTargets(t,e,i,"hold")},pointerUp:function(t,e,i,r){var n=this.mouse?0:a.indexOf(this.pointerIds,l.getPointerId(t));clearTimeout(this.holdTimers[n]),this.collectEventTargets(t,e,i,"up"),this.collectEventTargets(t,e,i,"tap"),this.pointerEnd(t,e,i,r),this.removePointer(t)},pointerCancel:function(t,e,i,r){var n=this.mouse?0:a.indexOf(this.pointerIds,l.getPointerId(t));clearTimeout(this.holdTimers[n]),this.collectEventTargets(t,e,i,"cancel"),this.pointerEnd(t,e,i,r),this.removePointer(t)},ie8Dblclick:function(t,e,i){this.prevTap&&e.clientX===this.prevTap.clientX&&e.clientY===this.prevTap.clientY&&i===this.prevTap.target&&(this.downTargets[0]=i,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(t,e,i,"tap"))},pointerEnd:function(t,e,i,r){var n,s=this.target,o=s&&s.options,h=o&&this.prepared.name&&o[this.prepared.name].inertia,d=this.inertiaStatus;if(this.interacting()){if(d.active)return;var u,g,m=(new Date).getTime(),v=!1,f=!1,y=!1,x=a.checkSnap(s,this.prepared.name)&&o[this.prepared.name].snap.endOnly,E=a.checkRestrict(s,this.prepared.name)&&o[this.prepared.name].restrict.endOnly,w=0,S=0;if(u=this.dragging?"x"===o.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===o.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,v=h&&h.enabled&&"gesture"!==this.prepared.name&&e!==d.startEvent,f=v&&m-this.curCoords.timeStamp<50&&u>h.minSpeed&&u>h.endSpeed,v&&!f&&(x||E)){var b={};b.snap=b.restrict=b,x&&(this.setSnapping(this.curCoords.page,b),b.locked&&(w+=b.dx,S+=b.dy)),E&&(this.setRestriction(this.curCoords.page,b),b.restricted&&(w+=b.dx,S+=b.dy)),(w||S)&&(y=!0)}if(f||y){if(l.copyCoords(d.upCoords,this.curCoords),this.pointers[0]=d.startEvent=g=new p(this,e,this.prepared.name,"inertiastart",this.element),d.t0=m,s.fire(d.startEvent),f){d.vx0=this.pointerDelta.client.vx,d.vy0=this.pointerDelta.client.vy,d.v0=u,this.calcInertia(d);var T,D=l.extend({},this.curCoords.page),z=a.getOriginXY(s,this.element);if(D.x=D.x+d.xe-z.x,D.y=D.y+d.ye-z.y,T={useStatusXY:!0,x:D.x,y:D.y,dx:0,dy:0,snap:null},T.snap=T,w=S=0,x){var O=this.setSnapping(this.curCoords.page,T);O.locked&&(w+=O.dx,S+=O.dy)}if(E){var C=this.setRestriction(this.curCoords.page,T);C.restricted&&(w+=C.dx,S+=C.dy)}d.modifiedXe+=w,d.modifiedYe+=S,d.i=c.request(this.boundInertiaFrame)}else d.smoothEnd=!0,d.xe=w,d.ye=S,d.sx=d.sy=0,d.i=c.request(this.boundSmoothEndFrame);return void(d.active=!0)}(x||E)&&this.pointerMove(t,e,i,r,!0)}if(this.dragging){n=new p(this,e,"drag","end",this.element);var M=this.element,P=this.getDrop(e,M);this.dropTarget=P.dropzone,this.dropElement=P.element;var I=this.getDropEvents(e,n);I.leave&&this.prevDropTarget.fire(I.leave),I.enter&&this.dropTarget.fire(I.enter),I.drop&&this.dropTarget.fire(I.drop),I.deactivate&&this.fireActiveDrops(I.deactivate),s.fire(n)}else this.resizing?(n=new p(this,e,"resize","end",this.element),s.fire(n)):this.gesturing&&(n=new p(this,e,"gesture","end",this.element),s.fire(n));this.stop(e)},collectDrops:function(t){var e,i=[],r=[];for(t=t||this.element,e=0;e<a.interactables.length;e++)if(a.interactables[e].options.drop.enabled){var n=a.interactables[e],s=n.options.drop.accept;if(!(l.isElement(s)&&s!==t||a.isString(s)&&!a.matchesSelector(t,s)))for(var o=n.selector?n._context.querySelectorAll(n.selector):[n._element],c=0,p=o.length;p>c;c++){var h=o[c];h!==t&&(i.push(n),r.push(h))}}return{dropzones:i,elements:r}},fireActiveDrops:function(t){var e,i,r,n;for(e=0;e<this.activeDrops.dropzones.length;e++)i=this.activeDrops.dropzones[e],r=this.activeDrops.elements[e],r!==n&&(t.target=r,i.fire(t)),n=r},setActiveDrops:function(t){var e=this.collectDrops(t,!0);this.activeDrops.dropzones=e.dropzones,this.activeDrops.elements=e.elements,this.activeDrops.rects=[];for(var i=0;i<this.activeDrops.dropzones.length;i++)this.activeDrops.rects[i]=this.activeDrops.dropzones[i].getRect(this.activeDrops.elements[i])},getDrop:function(t,e){var i=[];a.dynamicDrop&&this.setActiveDrops(e);for(var r=0;r<this.activeDrops.dropzones.length;r++){var n=this.activeDrops.dropzones[r],s=this.activeDrops.elements[r],o=this.activeDrops.rects[r];i.push(n.dropCheck(this.pointers[0],t,this.target,e,s,o)?s:null)}var l=a.indexOfDeepestElement(i),c=this.activeDrops.dropzones[l]||null,p=this.activeDrops.elements[l]||null;return{dropzone:c,element:p}},getDropEvents:function(t,e){var i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(i.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragleave"},e.dragLeave=this.prevDropElement,e.prevDropzone=this.prevDropTarget),this.dropTarget&&(i.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragenter"},e.dragEnter=this.dropElement,e.dropzone=this.dropTarget)),"dragend"===e.type&&this.dropTarget&&(i.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"drop"},e.dropzone=this.dropTarget),"dragstart"===e.type&&(i.activate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropactivate"}),"dragend"===e.type&&(i.deactivate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropdeactivate"}),"dragmove"===e.type&&this.dropTarget&&(i.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,dragmove:e,timeStamp:e.timeStamp,type:"dropmove"},e.dropzone=this.dropTarget),i},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(t){if(this.interacting()){a.autoScroll.stop(),this.matches=[],this.matchElements=[];var e=this.target;e.options.styleCursor&&(e._doc.documentElement.style.cursor=""),t&&a.isFunction(t.preventDefault)&&this.checkAndPreventDefault(t,e,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var i=0;i<this.pointers.length;i++)-1===a.indexOf(this.pointerIds,l.getPointerId(this.pointers[i]))&&this.pointers.splice(i,1);for(i=0;i<a.interactions.length;i++)a.interactions[i]!==this&&a.interactions[i].mouse===this.mouse&&a.interactions.splice(a.indexOf(a.interactions,this),1)},inertiaFrame:function(){var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia,i=e.resistance,r=(new Date).getTime()/1e3-t.t0;if(r<t.te){var n=1-(Math.exp(-i*r)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*n,t.sy=t.ye*n;else{var s=a.getQuadraticCurvePoint(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,n);t.sx=s.x,t.sy=s.y}this.pointerMove(t.startEvent,t.startEvent),t.i=c.request(this.boundInertiaFrame)}else t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.pointerMove(t.startEvent,t.startEvent),t.active=!1,this.pointerEnd(t.startEvent,t.startEvent)},smoothEndFrame:function(){var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,i=this.target.options[this.prepared.name].inertia.smoothEndDuration;i>e?(t.sx=a.easeOutQuad(e,0,t.xe,i),t.sy=a.easeOutQuad(e,0,t.ye,i),this.pointerMove(t.startEvent,t.startEvent),t.i=c.request(this.boundSmoothEndFrame)):(t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),t.active=!1,t.smoothEnd=!1,this.pointerEnd(t.startEvent,t.startEvent))},addPointer:function(t){var e=l.getPointerId(t),i=this.mouse?0:a.indexOf(this.pointerIds,e);return-1===i&&(i=this.pointerIds.length),this.pointerIds[i]=e,this.pointers[i]=t,i},removePointer:function(t){var e=l.getPointerId(t),i=this.mouse?0:a.indexOf(this.pointerIds,e);-1!==i&&(this.interacting()||this.pointers.splice(i,1),this.pointerIds.splice(i,1),this.downTargets.splice(i,1),this.downTimes.splice(i,1),this.holdTimers.splice(i,1))},recordPointer:function(t){if(!this.inertiaStatus.active){var e=this.mouse?0:a.indexOf(this.pointerIds,l.getPointerId(t));-1!==e&&(this.pointers[e]=t)}},collectEventTargets:function(t,e,i,r){function n(t,e,n){var s=a.ie8MatchesSelector?n.querySelectorAll(e):void 0;t._iEvents[r]&&l.isElement(p)&&a.inContext(t,p)&&!a.testIgnore(t,p,i)&&a.testAllow(t,p,i)&&a.matchesSelector(p,e,s)&&(o.push(t),c.push(p))}var s=this.mouse?0:a.indexOf(this.pointerIds,l.getPointerId(t));if("tap"!==r||!this.pointerWasMoved&&this.downTargets[s]&&this.downTargets[s]===i){for(var o=[],c=[],p=i,h=a.interact;p;)h.isSet(p)&&h(p)._iEvents[r]&&(o.push(h(p)),c.push(p)),a.interactables.forEachSelector(n),p=a.parentElement(p);(o.length||"tap"===r)&&this.firePointers(t,e,i,o,c,r)}},firePointers:function(t,e,i,r,n,s){var c,h,u,g=this.mouse?0:a.indexOf(l.getPointerId(t)),m={};for("doubletap"===s?m=t:(l.extend(m,e),e!==t&&l.extend(m,t),m.preventDefault=o,m.stopPropagation=p.prototype.stopPropagation,m.stopImmediatePropagation=p.prototype.stopImmediatePropagation,m.interaction=this,m.timeStamp=(new Date).getTime(),m.originalEvent=e,m.type=s,m.pointerId=l.getPointerId(t),m.pointerType=this.mouse?"mouse":d.supportsPointerEvent?a.isString(t.pointerType)?t.pointerType:[,,"touch","pen","mouse"][t.pointerType]:"touch"),"tap"===s&&(m.dt=m.timeStamp-this.downTimes[g],h=m.timeStamp-this.tapTime,u=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===m.target&&500>h),m["double"]=u,this.tapTime=m.timeStamp),c=0;c<r.length&&(m.currentTarget=n[c],m.interactable=r[c],r[c].fire(m),!(m.immediatePropagationStopped||m.propagationStopped&&n[c+1]!==m.currentTarget));c++);if(u){var v={};l.extend(v,m),v.dt=h,v.type="doubletap",this.collectEventTargets(v,e,i,"doubletap"),this.prevTap=v}else"tap"===s&&(this.prevTap=m)},validateSelector:function(t,e,i,r){for(var s=0,o=i.length;o>s;s++){var l=i[s],c=r[s],p=n(l.getAction(t,e,this,c),l);if(p&&a.withinInteractionLimit(l,c,p))return this.target=l,this.element=c,p}},setSnapping:function(t,e){var i,r,n,s=this.target.options[this.prepared.name].snap,o=[];if(e=e||this.snapStatus,e.useStatusXY)r={x:e.x,y:e.y};else{var c=a.getOriginXY(this.target,this.element);r=l.extend({},t),r.x-=c.x,r.y-=c.y}e.realX=r.x,e.realY=r.y,r.x=r.x-this.inertiaStatus.resumeDx,r.y=r.y-this.inertiaStatus.resumeDy;for(var p=s.targets?s.targets.length:0,h=0;h<this.snapOffsets.length;h++){var d={x:r.x-this.snapOffsets[h].x,y:r.y-this.snapOffsets[h].y};for(n=0;p>n;n++)i=a.isFunction(s.targets[n])?s.targets[n](d.x,d.y,this):s.targets[n],i&&o.push({x:a.isNumber(i.x)?i.x+this.snapOffsets[h].x:d.x,y:a.isNumber(i.y)?i.y+this.snapOffsets[h].y:d.y,range:a.isNumber(i.range)?i.range:s.range})}var u={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(n=0,p=o.length;p>n;n++){i=o[n];var g=i.range,m=i.x-r.x,v=i.y-r.y,f=l.hypot(m,v),y=g>=f;g===1/0&&u.inRange&&u.range!==1/0&&(y=!1),(!u.target||(y?u.inRange&&g!==1/0?f/g<u.distance/u.range:g===1/0&&u.range!==1/0||f<u.distance:!u.inRange&&f<u.distance))&&(g===1/0&&(y=!0),u.target=i,u.distance=f,u.range=g,u.inRange=y,u.dx=m,u.dy=v,e.range=g)}var x;return u.target?(x=e.snappedX!==u.target.x||e.snappedY!==u.target.y,e.snappedX=u.target.x,e.snappedY=u.target.y):(x=!0,e.snappedX=0/0,e.snappedY=0/0),e.dx=u.dx,e.dy=u.dy,e.changed=x||u.inRange&&!e.locked,e.locked=u.inRange,e},setRestriction:function(t,e){var i,r=this.target,n=r&&r.options[this.prepared.name].restrict,s=n&&n.restriction;if(!s)return e;e=e||this.restrictStatus,i=i=e.useStatusXY?{x:e.x,y:e.y}:l.extend({},t),e.snap&&e.snap.locked&&(i.x+=e.snap.dx||0,i.y+=e.snap.dy||0),i.x-=this.inertiaStatus.resumeDx,i.y-=this.inertiaStatus.resumeDy,e.dx=0,e.dy=0,e.restricted=!1;var o,c,p;return a.isString(s)&&(s="parent"===s?a.parentElement(this.element):"self"===s?r.getRect(this.element):a.closest(this.element,s),!s)?e:(a.isFunction(s)&&(s=s(i.x,i.y,this.element)),l.isElement(s)&&(s=a.getElementRect(s)),o=s,s?"x"in s&&"y"in s?(c=Math.max(Math.min(o.x+o.width-this.restrictOffset.right,i.x),o.x+this.restrictOffset.left),p=Math.max(Math.min(o.y+o.height-this.restrictOffset.bottom,i.y),o.y+this.restrictOffset.top)):(c=Math.max(Math.min(o.right-this.restrictOffset.right,i.x),o.left+this.restrictOffset.left),p=Math.max(Math.min(o.bottom-this.restrictOffset.bottom,i.y),o.top+this.restrictOffset.top)):(c=i.x,p=i.y),e.dx=c-i.x,e.dy=p-i.y,e.changed=e.restrictedX!==c||e.restrictedY!==p,e.restricted=!(!e.dx&&!e.dy),e.restrictedX=c,e.restrictedY=p,e)},checkAndPreventDefault:function(t,e,i){if(e=e||this.target){var r=e.options,n=r.preventDefault;if("auto"===n&&i&&!/^(input|select|textarea)$/i.test(t.target.nodeName)){if(/down|start/i.test(t.type)&&"drag"===this.prepared.name&&"xy"!==r.drag.axis)return;if(r[this.prepared.name]&&r[this.prepared.name].manualStart&&!this.interacting())return;return void t.preventDefault()}return"always"===n?void t.preventDefault():void 0}},calcInertia:function(t){var e=this.target.options[this.prepared.name].inertia,i=e.resistance,r=-Math.log(e.endSpeed/t.v0)/i;t.x0=this.prevEvent.pageX,t.y0=this.prevEvent.pageY,t.t0=t.startEvent.timeStamp/1e3,t.sx=t.sy=0,t.modifiedXe=t.xe=(t.vx0-r)/i,t.modifiedYe=t.ye=(t.vy0-r)/i,t.te=r,t.lambda_v0=i/t.v0,t.one_ve_v0=1-e.endSpeed/t.v0},autoScrollMove:function(t){if(this.interacting()&&a.checkAutoScroll(this.target,this.prepared.name)){if(this.inertiaStatus.active)return void(a.autoScroll.x=a.autoScroll.y=0);var e,i,r,n,s=this.target.options[this.prepared.name].autoScroll,o=s.container||a.getWindow(this.element);if(a.isWindow(o))n=t.clientX<a.autoScroll.margin,e=t.clientY<a.autoScroll.margin,i=t.clientX>o.innerWidth-a.autoScroll.margin,r=t.clientY>o.innerHeight-a.autoScroll.margin;else{var l=a.getElementRect(o);n=t.clientX<l.left+a.autoScroll.margin,e=t.clientY<l.top+a.autoScroll.margin,i=t.clientX>l.right-a.autoScroll.margin,r=t.clientY>l.bottom-a.autoScroll.margin}a.autoScroll.x=i?1:n?-1:0,a.autoScroll.y=r?1:e?-1:0,a.autoScroll.isScrolling||(a.autoScroll.margin=s.margin,a.autoScroll.speed=s.speed,a.autoScroll.start(this))}},_updateEventTargets:function(t,e){this._eventTarget=t,this._curEventTarget=e}},e.exports=r},{"./InteractEvent":2,"./scope":6,"./utils":13,"./utils/browser":8,"./utils/events":10}],4:[function(t,e,i){"use strict";var r=t("./utils/raf"),n=t("./utils/window").getWindow,s=t("./utils/isType").isWindow,o={interaction:null,i:null,x:0,y:0,isScrolling:!1,prevTime:0,start:function(t){o.isScrolling=!0,r.cancel(o.i),o.interaction=t,o.prevTime=(new Date).getTime(),o.i=r.request(o.scroll)},stop:function(){o.isScrolling=!1,r.cancel(o.i)},scroll:function(){var t=o.interaction.target.options[o.interaction.prepared.name].autoScroll,e=t.container||n(o.interaction.element),i=(new Date).getTime(),a=(i-o.prevTime)/1e3,l=t.speed*a;l>=1&&(s(e)?e.scrollBy(o.x*l,o.y*l):e&&(e.scrollLeft+=o.x*l,e.scrollTop+=o.y*l),o.prevTime=i),o.isScrolling&&(r.cancel(o.i),o.i=r.request(o.scroll))}};e.exports=o},{"./utils/isType":14,"./utils/raf":17,"./utils/window":18}],5:[function(t,e,i){"use strict";e.exports={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:t("./utils/domObjects").document,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,axis:"xy",margin:0/0,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600}},{"./utils/domObjects":9}],6:[function(t,e,i){"use strict";

var r={},n=t("./utils/extend");n(r,t("./utils/window")),n(r,t("./utils/domObjects")),n(r,t("./utils/arr.js")),n(r,t("./utils/isType")),e.exports=r},{"./utils/arr.js":7,"./utils/domObjects":9,"./utils/extend":11,"./utils/isType":14,"./utils/window":18}],7:[function(t,e,i){"use strict";function r(t,e){for(var i=0,r=t.length;r>i;i++)if(t[i]===e)return i;return-1}function n(t,e){return-1!==r(t,e)}e.exports={indexOf:r,contains:n}},{}],8:[function(t,e,i){"use strict";var r=t("./window"),n=t("./domObjects"),s={supportsTouch:!!("ontouchstart"in r||r.window.DocumentTouch&&n.document instanceof r.DocumentTouch),supportsPointerEvent:!!n.PointerEvent,isOperaMobile:"Opera"===navigator.appName&&s.supportsTouch&&navigator.userAgent.match("Presto"),isIOS7orLower:/iP(hone|od|ad)/.test(navigator.platform)&&/OS [1-7][^\d]/.test(navigator.appVersion),isIe9OrOlder:n.document.all&&!r.window.atob,prefixedMatchesSelector:"matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector"};e.exports=s},{"./domObjects":9,"./window":18}],9:[function(t,e,i){"use strict";var r={},n=t("./window").window,s=function(){};r.document=n.document,r.DocumentFragment=n.DocumentFragment||s,r.SVGElement=n.SVGElement||s,r.SVGSVGElement=n.SVGSVGElement||s,r.SVGElementInstance=n.SVGElementInstance||s,r.HTMLElement=n.HTMLElement||n.Element,r.PointerEvent=n.PointerEvent||n.MSPointerEvent,e.exports=r},{"./window":18}],10:[function(t,e,i){"use strict";function r(t,e,i,r){var n=c(v,t),l=f[n];if(l||(l={events:{},typeCount:0},n=v.push(t)-1,f.push(l),y.push(d?{supplied:[],wrapped:[],useCount:[]}:null)),l.events[e]||(l.events[e]=[],l.typeCount++),!p(l.events[e],i)){var g;if(d){var x=y[n],E=c(x.supplied,i),w=x.wrapped[E]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=t,e.preventDefault=e.preventDefault||s,e.stopPropagation=e.stopPropagation||o,e.stopImmediatePropagation=e.stopImmediatePropagation||a,/mouse|click/.test(e.type)&&(e.pageX=e.clientX+h(t).document.documentElement.scrollLeft,e.pageY=e.clientY+h(t).document.documentElement.scrollTop),i(e))};g=t[u](m+e,w,!!r),-1===E?(x.supplied.push(i),x.wrapped.push(w),x.useCount.push(1)):x.useCount[E]++}else g=t[u](e,i,!!r);return l.events[e].push(i),g}}function n(t,e,i,r){var s,o,a,l=c(v,t),p=f[l],h=i;if(p&&p.events)if(d&&(o=y[l],a=c(o.supplied,i),h=o.wrapped[a]),"all"!==e){if(p.events[e]){var u=p.events[e].length;if("all"===i){for(s=0;u>s;s++)n(t,e,p.events[e][s],!!r);return}for(s=0;u>s;s++)if(p.events[e][s]===i){t[g](m+e,h,!!r),p.events[e].splice(s,1),d&&o&&(o.useCount[a]--,0===o.useCount[a]&&(o.supplied.splice(a,1),o.wrapped.splice(a,1),o.useCount.splice(a,1)));break}p.events[e]&&0===p.events[e].length&&(p.events[e]=null,p.typeCount--)}p.typeCount||(f.splice(l,1),v.splice(l,1),y.splice(l,1))}else for(e in p.events)p.events.hasOwnProperty(e)&&n(t,e,"all")}function s(){this.returnValue=!1}function o(){this.cancelBubble=!0}function a(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var l=t("./arr"),c=l.indexOf,p=l.contains,h=t("./window").getWindow,d="attachEvent"in window&&!("addEventListener"in window),u=d?"attachEvent":"addEventListener",g=d?"detachEvent":"removeEventListener",m=d?"on":"",v=[],f=[],y=[];e.exports={add:r,remove:n,useAttachEvent:d,_elements:v,_targets:f,_attachedListeners:y}},{"./arr":7,"./window":18}],11:[function(t,e,i){"use strict";e.exports=function(t,e){for(var i in e)t[i]=e[i];return t}},{}],12:[function(t,e,i){"use strict";e.exports=function(t,e){return Math.sqrt(t*t+e*e)}},{}],13:[function(t,e,i){"use strict";var r=e.exports,n=t("./extend"),s=t("./window");r.blank=function(){},r.warnOnce=function(t,e){var i=!1;return function(){return i||(s.window.console.warn(e),i=!0),t.apply(this,arguments)}},r.extend=n,r.hypot=t("./hypot"),r.raf=t("./raf"),r.browser=t("./browser"),n(r,t("./arr")),n(r,t("./isType")),n(r,t("./pointerUtils"))},{"./arr":7,"./browser":8,"./extend":11,"./hypot":12,"./isType":14,"./pointerUtils":16,"./raf":17,"./window":18}],14:[function(t,e,i){"use strict";var r=t("./window"),n=t("./domObjects"),s={isElement:function(t){if(!t||"object"!=typeof t)return!1;var e=r.getWindow(t)||r.window;return/object|function/.test(typeof e.Element)?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName},isArray:null,isWindow:t("./isWindow"),isDocFrag:function(t){return!!t&&t instanceof n.DocumentFragment},isObject:function(t){return!!t&&"object"==typeof t},isFunction:function(t){return"function"==typeof t},isNumber:function(t){return"number"==typeof t},isBool:function(t){return"boolean"==typeof t},isString:function(t){return"string"==typeof t}};s.isArray=function(t){return s.isObject(t)&&"undefined"!=typeof t.length&&s.isFunction(t.splice)},e.exports=s},{"./domObjects":9,"./isWindow":15,"./window":18}],15:[function(t,e,i){"use strict";e.exports=function(t){return!(!t||!t.Window)&&t instanceof t.Window}},{}],16:[function(t,e,i){"use strict";var r={},n={},s=t("./window"),o=t("./hypot"),a=t("./extend"),l=t("./browser"),c=t("./isType"),p=t("../InteractEvent");r.copyCoords=function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},r.setEventXY=function(t,e,i){e||(e=i.pointerIds.length>1?r.touchAverage(i.pointers):i.pointers[0]),r.getPageXY(e,n,i),t.page.x=n.x,t.page.y=n.y,r.getClientXY(e,n,i),t.client.x=n.x,t.client.y=n.y,t.timeStamp=(new Date).getTime()},r.setEventDeltas=function(t,e,i){t.page.x=i.page.x-e.page.x,t.page.y=i.page.y-e.page.y,t.client.x=i.client.x-e.client.x,t.client.y=i.client.y-e.client.y,t.timeStamp=(new Date).getTime()-e.timeStamp;var r=Math.max(t.timeStamp/1e3,.001);t.page.speed=o(t.page.x,t.page.y)/r,t.page.vx=t.page.x/r,t.page.vy=t.page.y/r,t.client.speed=o(t.client.x,t.page.y)/r,t.client.vx=t.client.x/r,t.client.vy=t.client.y/r},r.getXY=function(t,e,i){return i=i||{},t=t||"page",i.x=e[t+"X"],i.y=e[t+"Y"],i},r.getPageXY=function(t,e,i){return e=e||{},t instanceof p?/inertiastart/.test(t.type)?(i=i||t.interaction,a(e,i.inertiaStatus.upCoords.page),e.x+=i.inertiaStatus.sx,e.y+=i.inertiaStatus.sy):(e.x=t.pageX,e.y=t.pageY):l.isOperaMobile?(r.getXY("screen",t,e),e.x+=s.window.scrollX,e.y+=s.window.scrollY):r.getXY("page",t,e),e},r.getClientXY=function(t,e,i){return e=e||{},t instanceof p?/inertiastart/.test(t.type)?(a(e,i.inertiaStatus.upCoords.client),e.x+=i.inertiaStatus.sx,e.y+=i.inertiaStatus.sy):(e.x=t.clientX,e.y=t.clientY):r.getXY(l.isOperaMobile?"screen":"client",t,e),e},r.getPointerId=function(t){return c.isNumber(t.pointerId)?t.pointerId:t.identifier},e.exports=r},{"../InteractEvent":2,"./browser":8,"./extend":11,"./hypot":12,"./isType":14,"./window":18}],17:[function(t,e,i){"use strict";for(var r,n,s=0,o=["ms","moz","webkit","o"],a=0;a<o.length&&!window.requestAnimationFrame;++a)r=window[o[a]+"RequestAnimationFrame"],n=window[o[a]+"CancelAnimationFrame"]||window[o[a]+"CancelRequestAnimationFrame"];r||(r=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-s)),r=setTimeout(function(){t(e+i)},i);return s=e+i,r}),n||(n=function(t){clearTimeout(t)}),e.exports={request:r,cancel:n}},{}],18:[function(t,e,i){"use strict";var r=t("./isWindow"),n=function(){var t=window.document.createTextNode("");return t.ownerDocument!==window.document&&"function"==typeof window.wrap&&window.wrap(t)===t},s={window:void 0,realWindow:window,getWindow:function(t){if(r(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||s.window}};"undefined"!=typeof window&&(s.window=n()?window.wrap(window):window),e.exports=s},{"./isWindow":15}]},{},[1]);
//# sourceMappingURL=interact.js.map