import * as helpers from '@interactjs/core/tests/helpers';
import pointerUtils from '@interactjs/utils/pointerUtils';
import test from '@interactjs/_dev/test/test';
import resize from '../resize';
test('resize', t => {
    const scope = helpers.mockScope();
    resize.install(scope);
    t.ok(scope.actions.names.includes('resize'), '"resize" in actions.names');
    t.equal(scope.actions.methodDict.resize, 'resizable');
    t.equal(typeof scope.Interactable.prototype.resizable, 'function', 'Interactable.resizable method is added');
    const page = { x: 0, y: 0 };
    const event = pointerUtils.coordsToEvent({ page, client: page });
    const interactable = scope.interactables.new('test', {})
        .resizable({
        edges: { left: true, top: true, right: true, bottom: true },
        // use margin greater than width and height
        margin: Infinity,
    });
    const interaction = scope.interactions.new({});
    const rect = { left: 0, top: 0, right: 10, bottom: 10 };
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: true, top: true, right: false, bottom: false },
    });
    page.x = 10;
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: false, top: true, right: true, bottom: false },
    });
    page.y = 10;
    interaction.updatePointer(event, event, {}, true);
    t.deepEqual(scope.actions.resize.checker(event, event, interactable, {}, interaction, rect), {
        name: 'resize',
        edges: { left: false, top: false, right: true, bottom: true },
    });
    t.end();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzaXplLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicmVzaXplLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxPQUFPLE1BQU0sZ0NBQWdDLENBQUE7QUFDekQsT0FBTyxZQUFZLE1BQU0sZ0NBQWdDLENBQUE7QUFDekQsT0FBTyxJQUFJLE1BQU0sNEJBQTRCLENBQUE7QUFDN0MsT0FBTyxNQUFNLE1BQU0sV0FBVyxDQUFBO0FBRTlCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDakIsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFBO0lBRWpDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUE7SUFFckIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsMkJBQTJCLENBQUMsQ0FBQTtJQUN6RSxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQTtJQUNyRCxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sS0FBSyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSx3Q0FBd0MsQ0FBQyxDQUFBO0lBRTVHLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUE7SUFDM0IsTUFBTSxLQUFLLEdBQUcsWUFBWSxDQUFDLGFBQWEsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtJQUNoRSxNQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1NBQ3JELFNBQVMsQ0FBQztRQUNULEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7UUFDM0QsMkNBQTJDO1FBQzNDLE1BQU0sRUFBRSxRQUFRO0tBQ2pCLENBQUMsQ0FBQTtJQUNKLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFBO0lBQzlDLE1BQU0sSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFBO0lBRXZELFdBQVcsQ0FBQyxhQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFFakQsQ0FBQyxDQUFDLFNBQVMsQ0FDVCxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsRUFDL0U7UUFDRSxJQUFJLEVBQUUsUUFBUTtRQUNkLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7S0FDOUQsQ0FDRixDQUFBO0lBRUQsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUE7SUFDWCxXQUFXLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFBO0lBRWpELENBQUMsQ0FBQyxTQUFTLENBQ1QsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQy9FO1FBQ0UsSUFBSSxFQUFFLFFBQVE7UUFDZCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0tBQzlELENBQ0YsQ0FBQTtJQUVELElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFBO0lBQ1gsV0FBVyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUVqRCxDQUFDLENBQUMsU0FBUyxDQUNULEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUMvRTtRQUNFLElBQUksRUFBRSxRQUFRO1FBQ2QsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtLQUM5RCxDQUNGLENBQUE7SUFFRCxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUE7QUFDVCxDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGhlbHBlcnMgZnJvbSAnQGludGVyYWN0anMvY29yZS90ZXN0cy9oZWxwZXJzJ1xuaW1wb3J0IHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5pbXBvcnQgdGVzdCBmcm9tICdAaW50ZXJhY3Rqcy9fZGV2L3Rlc3QvdGVzdCdcbmltcG9ydCByZXNpemUgZnJvbSAnLi4vcmVzaXplJ1xuXG50ZXN0KCdyZXNpemUnLCB0ID0+IHtcbiAgY29uc3Qgc2NvcGUgPSBoZWxwZXJzLm1vY2tTY29wZSgpXG5cbiAgcmVzaXplLmluc3RhbGwoc2NvcGUpXG5cbiAgdC5vayhzY29wZS5hY3Rpb25zLm5hbWVzLmluY2x1ZGVzKCdyZXNpemUnKSwgJ1wicmVzaXplXCIgaW4gYWN0aW9ucy5uYW1lcycpXG4gIHQuZXF1YWwoc2NvcGUuYWN0aW9ucy5tZXRob2REaWN0LnJlc2l6ZSwgJ3Jlc2l6YWJsZScpXG4gIHQuZXF1YWwodHlwZW9mIHNjb3BlLkludGVyYWN0YWJsZS5wcm90b3R5cGUucmVzaXphYmxlLCAnZnVuY3Rpb24nLCAnSW50ZXJhY3RhYmxlLnJlc2l6YWJsZSBtZXRob2QgaXMgYWRkZWQnKVxuXG4gIGNvbnN0IHBhZ2UgPSB7IHg6IDAsIHk6IDAgfVxuICBjb25zdCBldmVudCA9IHBvaW50ZXJVdGlscy5jb29yZHNUb0V2ZW50KHsgcGFnZSwgY2xpZW50OiBwYWdlIH0pXG4gIGNvbnN0IGludGVyYWN0YWJsZSA9IHNjb3BlLmludGVyYWN0YWJsZXMubmV3KCd0ZXN0Jywge30pXG4gICAgLnJlc2l6YWJsZSh7XG4gICAgICBlZGdlczogeyBsZWZ0OiB0cnVlLCB0b3A6IHRydWUsIHJpZ2h0OiB0cnVlLCBib3R0b206IHRydWUgfSxcbiAgICAgIC8vIHVzZSBtYXJnaW4gZ3JlYXRlciB0aGFuIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgIG1hcmdpbjogSW5maW5pdHksXG4gICAgfSlcbiAgY29uc3QgaW50ZXJhY3Rpb24gPSBzY29wZS5pbnRlcmFjdGlvbnMubmV3KHt9KVxuICBjb25zdCByZWN0ID0geyBsZWZ0OiAwLCB0b3A6IDAsIHJpZ2h0OiAxMCwgYm90dG9tOiAxMCB9XG5cbiAgaW50ZXJhY3Rpb24udXBkYXRlUG9pbnRlcihldmVudCwgZXZlbnQsIHt9LCB0cnVlKVxuXG4gIHQuZGVlcEVxdWFsKFxuICAgIHNjb3BlLmFjdGlvbnMucmVzaXplLmNoZWNrZXIoZXZlbnQsIGV2ZW50LCBpbnRlcmFjdGFibGUsIHt9LCBpbnRlcmFjdGlvbiwgcmVjdCksXG4gICAge1xuICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICBlZGdlczogeyBsZWZ0OiB0cnVlLCB0b3A6IHRydWUsIHJpZ2h0OiBmYWxzZSwgYm90dG9tOiBmYWxzZSB9LFxuICAgIH0sXG4gIClcblxuICBwYWdlLnggPSAxMFxuICBpbnRlcmFjdGlvbi51cGRhdGVQb2ludGVyKGV2ZW50LCBldmVudCwge30sIHRydWUpXG5cbiAgdC5kZWVwRXF1YWwoXG4gICAgc2NvcGUuYWN0aW9ucy5yZXNpemUuY2hlY2tlcihldmVudCwgZXZlbnQsIGludGVyYWN0YWJsZSwge30sIGludGVyYWN0aW9uLCByZWN0KSxcbiAgICB7XG4gICAgICBuYW1lOiAncmVzaXplJyxcbiAgICAgIGVkZ2VzOiB7IGxlZnQ6IGZhbHNlLCB0b3A6IHRydWUsIHJpZ2h0OiB0cnVlLCBib3R0b206IGZhbHNlIH0sXG4gICAgfSxcbiAgKVxuXG4gIHBhZ2UueSA9IDEwXG4gIGludGVyYWN0aW9uLnVwZGF0ZVBvaW50ZXIoZXZlbnQsIGV2ZW50LCB7fSwgdHJ1ZSlcblxuICB0LmRlZXBFcXVhbChcbiAgICBzY29wZS5hY3Rpb25zLnJlc2l6ZS5jaGVja2VyKGV2ZW50LCBldmVudCwgaW50ZXJhY3RhYmxlLCB7fSwgaW50ZXJhY3Rpb24sIHJlY3QpLFxuICAgIHtcbiAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgZWRnZXM6IHsgbGVmdDogZmFsc2UsIHRvcDogZmFsc2UsIHJpZ2h0OiB0cnVlLCBib3R0b206IHRydWUgfSxcbiAgICB9LFxuICApXG5cbiAgdC5lbmQoKVxufSlcbiJdfQ==