class Signals {
    constructor() {
        this.listeners = {};
    }
    on(name, listener) {
        if (!this.listeners[name]) {
            this.listeners[name] = [listener];
            return;
        }
        this.listeners[name].push(listener);
    }
    off(name, listener) {
        if (!this.listeners[name]) {
            return;
        }
        const index = this.listeners[name].indexOf(listener);
        if (index !== -1) {
            this.listeners[name].splice(index, 1);
        }
    }
    fire(name, arg) {
        const targetListeners = this.listeners[name];
        if (!targetListeners) {
            return;
        }
        for (const listener of targetListeners) {
            if (listener(arg, name) === false) {
                return false;
            }
        }
    }
}
export default Signals;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2lnbmFscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlNpZ25hbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZUEsTUFBTSxPQUFPO0lBQWI7UUFDRSxjQUFTLEdBRUwsRUFBRSxDQUFBO0lBZ0NSLENBQUM7SUE5QkMsRUFBRSxDQUFFLElBQVksRUFBRSxRQUF3QjtRQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7WUFDakMsT0FBTTtTQUNQO1FBRUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7SUFDckMsQ0FBQztJQUVELEdBQUcsQ0FBRSxJQUFZLEVBQUUsUUFBd0I7UUFDekMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFBRSxPQUFNO1NBQUU7UUFFckMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7UUFFcEQsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFBO1NBQ3RDO0lBQ0gsQ0FBQztJQUVELElBQUksQ0FBRSxJQUFZLEVBQUUsR0FBUTtRQUMxQixNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFBO1FBRTVDLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFBRSxPQUFNO1NBQUU7UUFFaEMsS0FBSyxNQUFNLFFBQVEsSUFBSSxlQUFlLEVBQUU7WUFDdEMsSUFBSSxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLEtBQUssRUFBRTtnQkFDakMsT0FBTyxLQUFLLENBQUE7YUFDYjtTQUNGO0lBQ0gsQ0FBQztDQUNGO0FBRUQsZUFBZSxPQUFPLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBTaWduYWxMaXN0ZW5lciA9IChzaWduYWxBcmc6IFBhcnRpYWxTaWduYWxBcmcsIHNpbmFsTmFtZTogc3RyaW5nKSA9PiAodm9pZCB8IGJvb2xlYW4pXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmFsQXJnPFQgZXh0ZW5kcyBJbnRlcmFjdC5BY3Rpb25OYW1lID0gYW55PiB7XG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdC5JbnRlcmFjdGlvblxuICBJbnRlcmFjdGFibGU6IEludGVyYWN0LkludGVyYWN0YWJsZVxuICBpRXZlbnQ6IEludGVyYWN0LkludGVyYWN0RXZlbnQ8VD5cbiAgZWxlbWVudDogV2luZG93IHwgRG9jdW1lbnQgfCBFbGVtZW50XG4gIGNvb3JkczogSW50ZXJhY3QuUG9pbnRcbiAgZXZlbnQ6IEludGVyYWN0LlBvaW50ZXJFdmVudFR5cGVcbiAgcGhhc2U6IEludGVyYWN0LkV2ZW50UGhhc2VcbiAgW2luZGV4OiBzdHJpbmddOiBhbnlcbn1cblxuZXhwb3J0IHR5cGUgUGFydGlhbFNpZ25hbEFyZyA9IFBhcnRpYWw8U2lnbmFsQXJnPlxuXG5jbGFzcyBTaWduYWxzIHtcbiAgbGlzdGVuZXJzOiB7XG4gICAgW3NpZ25hbE5hbWU6IHN0cmluZ106IFNpZ25hbExpc3RlbmVyW10sXG4gIH0gPSB7fVxuXG4gIG9uIChuYW1lOiBzdHJpbmcsIGxpc3RlbmVyOiBTaWduYWxMaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnNbbmFtZV0pIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzW25hbWVdID0gW2xpc3RlbmVyXVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5saXN0ZW5lcnNbbmFtZV0ucHVzaChsaXN0ZW5lcilcbiAgfVxuXG4gIG9mZiAobmFtZTogc3RyaW5nLCBsaXN0ZW5lcjogU2lnbmFsTGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzW25hbWVdKSB7IHJldHVybiB9XG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMubGlzdGVuZXJzW25hbWVdLmluZGV4T2YobGlzdGVuZXIpXG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1tuYW1lXS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfVxuICB9XG5cbiAgZmlyZSAobmFtZTogc3RyaW5nLCBhcmc6IGFueSk6IHZvaWQgfCBmYWxzZSB7XG4gICAgY29uc3QgdGFyZ2V0TGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbmFtZV1cblxuICAgIGlmICghdGFyZ2V0TGlzdGVuZXJzKSB7IHJldHVybiB9XG5cbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRhcmdldExpc3RlbmVycykge1xuICAgICAgaWYgKGxpc3RlbmVyKGFyZywgbmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaWduYWxzXG4iXX0=