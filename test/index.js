// tslint:disable no-var-requires
require('ts-node/register');
const glob = require('glob');
const path = require('path');
const globOptions = { ignore: '**/node_modules/**' };
const [, , ...fileArgs] = process.argv;
function getMatches(pattern) {
    return new Promise((resolve, reject) => {
        glob(pattern, globOptions, (error, files) => {
            if (error) {
                reject(error);
            }
            else {
                resolve(files);
            }
        });
    });
}
(fileArgs.length ? Promise.resolve(fileArgs) : getMatches('**/tests/**/*.ts')).then((tests) => {
    for (const file of tests) {
        require(path.resolve(file));
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQ0FBaUM7QUFFakMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFFM0IsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzVCLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUU1QixNQUFNLFdBQVcsR0FBRyxFQUFFLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxDQUFBO0FBRXBELE1BQU0sQ0FBQyxFQUFFLEFBQUQsRUFBRyxHQUFHLFFBQVEsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUE7QUFFdEMsU0FBUyxVQUFVLENBQUUsT0FBTztJQUMxQixPQUFPLElBQUksT0FBTyxDQUFXLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQy9DLElBQUksQ0FDRixPQUFPLEVBQ1AsV0FBVyxFQUNYLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ2YsSUFBSSxLQUFLLEVBQUU7Z0JBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBO2FBQUU7aUJBQ3ZCO2dCQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQTthQUFFO1FBQ3pCLENBQUMsQ0FDRixDQUFBO0lBQ0gsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQzVGLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1FBQ3hCLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7S0FDNUI7QUFDSCxDQUFDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIHRzbGludDpkaXNhYmxlIG5vLXZhci1yZXF1aXJlc1xuXG5yZXF1aXJlKCd0cy1ub2RlL3JlZ2lzdGVyJylcblxuY29uc3QgZ2xvYiA9IHJlcXVpcmUoJ2dsb2InKVxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuXG5jb25zdCBnbG9iT3B0aW9ucyA9IHsgaWdub3JlOiAnKiovbm9kZV9tb2R1bGVzLyoqJyB9XG5cbmNvbnN0IFssICwgLi4uZmlsZUFyZ3NdID0gcHJvY2Vzcy5hcmd2XG5cbmZ1bmN0aW9uIGdldE1hdGNoZXMgKHBhdHRlcm4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZ1tdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZ2xvYihcbiAgICAgIHBhdHRlcm4sXG4gICAgICBnbG9iT3B0aW9ucyxcbiAgICAgIChlcnJvciwgZmlsZXMpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7IHJlamVjdChlcnJvcikgfVxuICAgICAgICBlbHNlIHsgcmVzb2x2ZShmaWxlcykgfVxuICAgICAgfVxuICAgIClcbiAgfSlcbn1cblxuKGZpbGVBcmdzLmxlbmd0aCA/IFByb21pc2UucmVzb2x2ZShmaWxlQXJncykgOiBnZXRNYXRjaGVzKCcqKi90ZXN0cy8qKi8qLnRzJykpLnRoZW4oKHRlc3RzKSA9PiB7XG4gIGZvciAoY29uc3QgZmlsZSBvZiB0ZXN0cykge1xuICAgIHJlcXVpcmUocGF0aC5yZXNvbHZlKGZpbGUpKVxuICB9XG59KVxuIl19